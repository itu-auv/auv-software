<?xml version="1.0"?>
<launch>
  <arg name="namespace" default="taluy"/>
  <arg name="compressed" default="true"/>
  <arg name="verbose" default="false"/>
  <arg name="pub_camera_info" default="true"/>
  <arg name="cam_front_name" default=""/>
  <arg name="cam_bottom_name" default=""/>
  <!-- load parameters -->
  <group ns="$(arg namespace)/cameras">
    <rosparam command="load" file="$(find auv_bringup)/config/$(arg namespace)/cameras.yaml"/>
  </group>
  <!-- launch front camera -->
  <group if="$(eval arg('cam_front_name') != '')">
    <include file="$(find auv_cam)/launch/start_gst_camera.launch">
      <arg name="namespace" value="$(arg namespace)"/>
      <arg name="compressed" value="$(arg compressed)"/>
      <arg name="verbose" value="$(arg verbose)"/>
      <arg name="name" value="$(arg cam_front_name)"/>
      <arg name="pub_camera_info" value="$(arg pub_camera_info)"/>
    </include>
  </group>
  <!-- launch bottom camera -->
  <group if="$(eval arg('cam_bottom_name') != '')">
    <include file="$(find auv_cam)/launch/start_gst_camera.launch">
      <arg name="namespace" value="$(arg namespace)"/>
      <arg name="compressed" value="$(arg compressed)"/>
      <arg name="verbose" value="$(arg verbose)"/>
      <arg name="name" value="$(arg cam_bottom_name)"/>
      <arg name="pub_camera_info" value="$(arg pub_camera_info)"/>
    </include>
  </group>
  <!-- launch realsense camera -->
  <group if="$(eval arg('namespace') == 'taluy')">
    <include file="$(find auv_cam)/launch/realsense_camera.launch"/>
  </group>
</launch>
