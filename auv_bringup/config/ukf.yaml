frequency: 50 # UKF, EKF'den daha ağırdır. Jetson'da 100Hz zorlayabilir, başlangıç için 50Hz öneririm. Sorun yoksa 100'e çekebilirsin.
sensor_timeout: 0.1
two_d_mode: false # Su altı aracı olduğu için 3D (derinlik, pitch, roll) önemli.
transform_time_offset: 0.0
transform_timeout: 0.0
print_diagnostics: true
debug: false
debug_out_file: /tmp/ukf_debug_log.txt

# Yayın Ayarları
publish_tf: true
publish_acceleration: true
permit_corrected_publication: false

# Frame Ayarları (Senin sistemine özel)
map_frame: map
odom_frame: odom
base_link_frame: taluy/base_link
world_frame: odom # GPS olmadığı için world_frame = odom_frame olmalı.

# -------------------------------------------------------------------
# UKF SPESİFİK PARAMETRELERİ
# -------------------------------------------------------------------
# Alpha ve Kappa sigma noktalarının yayılımını kontrol eder.
# Beta dağılım bilgisi ile ilgilidir (Gaussian için 2.0 idealdir).
alpha: 0.05
kappa: 0.0
beta: 2.0

# -------------------------------------------------------------------
# GİRİŞLER (SENSÖRLER) - EKF Dosyanla Birebir Eşlendi
# -------------------------------------------------------------------

# ODOM 0: IMU (Muhtemelen Oryantasyon ve Açısal Hızlar)
odom0: /taluy/localization/odom_imu
odom0_config: [false, false, false,
               true, true, false,
               false, false, false,
               true, true, true,
               false, false, false]
odom0_queue_size: 10
odom0_nodelay: false
odom0_differential: false
odom0_relative: false

# ODOM 1: Basınç Sensörü (Sadece Z - Derinlik)
odom1: /taluy/localization/odom_pressure
odom1_config: [false, false, true,
               false, false, false,
               false, false, false,
               false, false, false,
               false, false, false]
odom1_queue_size: 10
odom1_nodelay: false
odom1_differential: false
odom1_relative: false

# ODOM 2: DVL (Doppler Velocity Log - Vx ve Vy Hızları)
odom2: /taluy/localization/odom_dvl
odom2_config: [false, false, false,
               false, false, false,
               true, true, false,
               false, false, false,
               false, false, false]
odom2_queue_size: 10
odom2_nodelay: false
odom2_differential: false
odom2_relative: false

# ODOM 3: İkinci IMU (BNO)
odom3: /taluy/localization/odom_bno_imu
odom3_config: [false, false, false,
               true, true, false,
               false, false, false,
               true, true, true,
               false, false, false]
odom3_queue_size: 10
odom3_nodelay: false
odom3_differential: false
odom3_relative: false

# -------------------------------------------------------------------
# GELİŞMİŞ AYARLAR
# -------------------------------------------------------------------

use_control: false
stamped_control: false
control_timeout: 0.2
control_config: [true, false, false, false, false, true]
acceleration_limits: [1.3, 0.0, 0.0, 0.0, 0.0, 3.4]
deceleration_limits: [1.3, 0.0, 0.0, 0.0, 0.0, 4.5]
acceleration_gains: [0.8, 0.0, 0.0, 0.0, 0.0, 0.9]
deceleration_gains: [1.0, 0.0, 0.0, 0.0, 0.0, 1.0]

# Process Noise Covariance - EKF'den aynen alındı.
# UKF genelde daha az gürültü (noise) ile çalışabilir ama başlangıç için EKF değerleri en güvenlisidir.
process_noise_covariance: [0.05, 0,    0,    0,    0,    0,    0,     0,     0,    0,    0,    0,    0,    0,    0,
                           0,    0.05, 0,    0,    0,    0,    0,     0,     0,    0,    0,    0,    0,    0,    0,
                           0,    0,    0.06, 0,    0,    0,    0,     0,     0,    0,    0,    0,    0,    0,    0,
                           0,    0,    0,    0.03, 0,    0,    0,     0,     0,    0,    0,    0,    0,    0,    0,
                           0,    0,    0,    0,    0.03, 0,    0,     0,     0,    0,    0,    0,    0,    0,    0,
                           0,    0,    0,    0,    0,    0.06, 0,     0,     0,    0,    0,    0,    0,    0,    0,
                           0,    0,    0,    0,    0,    0,    0.025, 0,     0,    0,    0,    0,    0,    0,    0,
                           0,    0,    0,    0,    0,    0,    0,     0.025, 0,    0,    0,    0,    0,    0,    0,
                           0,    0,    0,    0,    0,    0,    0,     0,     0.04, 0,    0,    0,    0,    0,    0,
                           0,    0,    0,    0,    0,    0,    0,     0,     0,    0.01, 0,    0,    0,    0,    0,
                           0,    0,    0,    0,    0,    0,    0,     0,     0,    0,    0.01, 0,    0,    0,    0,
                           0,    0,    0,    0,    0,    0,    0,     0,     0,    0,    0,    0.02, 0,    0,    0,
                           0,    0,    0,    0,    0,    0,    0,     0,     0,    0,    0,    0,    0.01, 0,    0,
                           0,    0,    0,    0,    0,    0,    0,     0,     0,    0,    0,    0,    0,    0.01, 0,
                           0,    0,    0,    0,    0,    0,    0,     0,     0,    0,    0,    0,    0,    0,    0.015]

# 1e-9 yerine 1e-1 veya 1e-2 kullanıyoruz.
initial_estimate_covariance: [1e-2, 0,    0,    0,    0,    0,    0,    0,    0,    0,     0,     0,     0,    0,    0,
                              0,    1e-2, 0,    0,    0,    0,    0,    0,    0,    0,     0,     0,     0,    0,    0,
                              0,    0,    1e-2, 0,    0,    0,    0,    0,    0,    0,     0,     0,     0,    0,    0,
                              0,    0,    0,    0.1,  0,    0,    0,    0,    0,    0,     0,     0,     0,    0,    0,
                              0,    0,    0,    0,    0.1,  0,    0,    0,    0,    0,     0,     0,     0,    0,    0,
                              0,    0,    0,    0,    0,    0.1,  0,    0,    0,    0,     0,     0,     0,    0,    0,
                              0,    0,    0,    0,    0,    0,    1e-2, 0,    0,    0,     0,     0,     0,    0,    0,
                              0,    0,    0,    0,    0,    0,    0,    1e-2, 0,    0,     0,     0,     0,    0,    0,
                              0,    0,    0,    0,    0,    0,    0,    0,    1e-2, 0,     0,     0,     0,    0,    0,
                              0,    0,    0,    0,    0,    0,    0,    0,    0,    1e-2,  0,     0,     0,    0,    0,
                              0,    0,    0,    0,    0,    0,    0,    0,    0,    0,     1e-2,  0,     0,    0,    0,
                              0,    0,    0,    0,    0,    0,    0,    0,    0,    0,     0,     1e-2,  0,    0,    0,
                              0,    0,    0,    0,    0,    0,    0,    0,    0,    0,     0,     0,     1e-2, 0,    0,
                              0,    0,    0,    0,    0,    0,    0,    0,    0,    0,     0,     0,     0,    1e-2, 0,
                              0,    0,    0,    0,    0,    0,    0,    0,    0,    0,     0,     0,     0,    0,    1e-2]