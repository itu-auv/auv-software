<?xml version="1.0"?>
<launch>
  <arg name="namespace" default="taluy" />
  <arg name="control_rate" default="20" />
  <arg name="use_gui" default="false" />

  <rosparam command="load" file="$(find auv_sim_description)/config/environment.yaml" />

  <group ns="$(arg namespace)">
    <node name="auv_sim_bridge" pkg="auv_sim_bridge" type="simulation_mock_node" output="screen">
      <!-- outputs -->
      <remap from="depth" to="sensors/external_pressure_sensor/depth" />
      <remap from="power" to="mainboard/power_sensor/power" />

      <!-- inputs -->
      <remap from="direct_drive" to="board/drive_pulse" />
      <remap from="pressure" to="sim/pressure" />
    </node>
  </group>

  <include file="$(find auv_control)/launch/start.launch">
    <arg name="namespace" value="$(arg namespace)" />
    <arg name="rate" value="$(arg control_rate)" />
    <arg name="use_gui" value="$(arg use_gui)" />
    <arg name="start_state_publisher" value="false" />
  </include>

</launch>