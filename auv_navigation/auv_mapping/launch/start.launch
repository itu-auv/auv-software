<?xml version="1.0"?>
<launch>
  <arg name="namespace" default="turquoise" />
  <arg name="control_rate" default="10" />
  <arg name="target_gate_frame" default="gate_blue_arrow_link" />

  <node pkg="auv_mapping" type="prop_transform_publisher.py" name="prop_transform_publisher"
    output="screen" />

  <group ns="$(arg namespace)">
    <node pkg="auv_mapping" type="object_map_tf_server_node" name="object_map_tf_server_node">
      <param name="rate" value="$(arg control_rate)" />
      <param name="static_frame" value="odom" />
      <remap from="set_object_transform" to="map/set_object_transform" />
    </node>

    <node pkg="auv_mapping" type="gate_trajectory_publisher.py" name="gate_trajectory_publisher">
      <rosparam command="load" file="$(find auv_mapping)/config/gate_trajectory_publisher_params.yaml" />
      <param name="target_gate_frame" value="$(arg target_gate_frame)" />
    </node>
  </group>
</launch>
