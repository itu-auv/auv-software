<launch>
    <!-- Arguments for customization -->
    <arg name="odom_topic" default="/taluy/odometry" />
    <arg name="landmark_topic" default="/taluy/slam/landmark_detections" />
    <arg name="map_frame_id" default="map" />
    <arg name="odom_frame_id" default="odom" />
    <arg name="base_frame_id" default="base_link" /> <!-- Check actual base frame -->
    <arg name="odom_threshold_dist" default="0.5" /> <!-- meters -->
    <arg name="odom_threshold_angle" default="0.2" /> <!-- radians -->
    <!-- Add noise model parameters here later -->

    <!-- GTSAM SLAM Node -->
    <node pkg="auv_mapping" type="gtsam_slam_node" name="gtsam_slam_node" output="screen">
        <!-- Remap topics if needed -->
        <remap from="odom_topic" to="$(arg odom_topic)" />
        <remap from="landmark_topic" to="$(arg landmark_topic)" />

        <!-- Pass parameters -->
        <param name="odom_topic" value="$(arg odom_topic)" />
        <param name="landmark_topic" value="$(arg landmark_topic)" />
        <param name="map_frame_id" value="$(arg map_frame_id)" />
        <param name="odom_frame_id" value="$(arg odom_frame_id)" />
        <param name="base_frame_id" value="$(arg base_frame_id)" />
        <param name="odom_threshold_dist" value="$(arg odom_threshold_dist)" />
        <param name="odom_threshold_angle" value="$(arg odom_threshold_angle)" />
        <!-- Pass noise parameters here later -->
    </node>

</launch>
